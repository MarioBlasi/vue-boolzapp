<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>boolzapp</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <!--Font Awesome-->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <!--Font Awesome  6.4.0-->
    <link rel="stylesheet" href="./assets/css/style.css" />
    <!--Css-->
  </head>
  <body>
    <div id="app">
      <div class="container">
        <div class="row">
          <!-- -------------- LEFT SIDE ON TOP---------------------- -->
          <!-- SEZIONE USER -->
          <div class="col-4">
            <div id="user" class="col-12">
              <div class="col-6" id=" user-details-top ">
                <div id="userimg">
                  <img :src="`/assets/img/avatar${user.avatar}.jpg`" />
                </div>

                <div id="text-left">
                  <b><h3>{{ user.name }}</h3></b>
                </div>

                <div id="icon">
                  <i class="fas fa-circle-notch clickable"></i>
                  <i class="fas fa-comment-alt clickable"></i>
                  <i class="fas fa-ellipsis-v clickable"></i>
                </div>
              </div>
              <!-- SEZIONE NOTIFICHE -->
              <div id="notifiche">
                <div class="iconbell">
                  <i class="fas fa-bell-slash fa-2x"></i>
                </div>
                <div id="text-notifiche">
                  <h3>Ricevi notifiche di nuovi messaggi</h3>
                  <p><u>Attiva notifiche desktop</u></p>
                </div>
              </div>
              <!-- SEZIONE SEARCH -->
              <div class="input-group">
                <button type="button" class="btn btn-primary">
                  <i class="fas fa-search"></i>
                </button>
                <div class="form-outline">
                  <input type="search" id="form1" class="form-search" />
                </div>
              </div>
              <!-- -------------- LEFT SIDE BOTTOM---------------------- -->
              <!-- SEZIONE CONTATTI -->
              <div id="contatti">
                <ul class="elenco">
                  <!-- :class="index === activeContact ? 'active' : '' " -->
                  <li
                    v-for="(contact, index) in contacts"
                    :key="contact.id"
                    @click="showMessages(index)"
                    :class="{ active: contact.visible }"
                  >
                    <img :src="contact.avatar" :alt="contact.name" />
                    <div class="textcontact">
                      <b><span>{{ contact.name }}</span></b>
                    </div>
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <!-- -------------- RIGHT SIDE ON TOP---------------------- -->
          <!-- SEZIONE PERSONALE -->
          <div class="col-8">
            <div id="personale" class="col-12">
              <div class="col-6">
                <div id="user-top-right">
                  <img src="/assets/img/avatar_1.jpg " alt="" />
                </div>

                <div id="text-accesso">
                  <h3><b>Michele</b></h3>

                  <p>ultimo accesso oggi alle 12:00</p>
                </div>

                <div id="icon">
                  <i class="fas fa-search"></i>
                  <i class="fas fa-paperclip"></i>
                  <i class="fas fa-ellipsis-v"></i>
                </div>
              </div>
            </div>
            <!-- SEZIONE SFONDO CHAT -->
            <div id="bg-chat">
              <!-- ↓ ↓ ↓ ↓ right side  ↓ ↓ ↓ ↓-->
              <div class="dx">
                <ul>
                  <li
                    class="sent"
                    v-for="(message, index) in contacts[contactIndex].messages"
                    :key="message.id"
                  >
                    <span>{{ message.message }}</span>
                    <i
                      class="fa solid fa-xmark"
                      id="xmark"
                      @click="deleteMessage(index, contactIndex)"
                    ></i>
                  </li>
                  <!-- ↓ ↓ ↓ ↓  l'utente digita e fa enter   ↓ ↓ ↓ ↓  -->
                  <li
                    class="sent"
                    v-for="(Answer, index) in answerRandom"
                    :key="index"
                  >
                    <span @click="toggleDone(index)">
                      {{Answer.text}}
                    </span>
                    <i
                      class="fa solid fa-xmark"
                      id="xmark"
                      @click="removeAnswer(index, contactIndex)"
                    ></i>
                  </li>
                </ul>
              </div>
              <!-- ↓ ↓ ↓ ↓ left side  ↓ ↓ ↓ ↓-->
              <div class="sx">
                <ul>
                  <li
                    class="received"
                    v-for="(responsesFromUser, index) in contacts[contactIndex].messages"
                    :key="responsesFromUser.id"
                  >
                    <span>{{ responsesFromUser.responsesFromUser }}</span>
                  </li>
                </ul>
              </div>
            </div>
            <!-- left side -->

            <!-- SEZIONE SFONDO CHAT test 4
            <div id="bg-chat">
              <div class="dx">
                <ul class="messages">
                  <li
                    class="sent"
                    v-for="(message, index) in contacts[contactIndex].messages"
                    :key="message.id"
                  >
                    <span>{{ message.message }}</span>
                    <i
                      class="fa solid fa-xmark"
                      id="xmark"
                      @click="deleteMessage(index, contactIndex)"
                    ></i>
                 
                  <li class="sent" v-for="(Answer, index) in answerRandom" :key="index">
                    <span :class="{done:Answer.done}" @click="toggleDone(index)">
                      {{Answer.text}}
                    </span>
                    <i
                    class="fa solid fa-xmark"
                    id="xmark"
                    @click="deleteMessage(index, contactIndex)"
                  ></i>
                  </li>
                </ul>
              </div>
            </div> -->

            <!-- -------------- RIGHT SIDE BOTTOM---------------------- -->
            <!-- SEZIONE CHAT -->
            <div class="col-12" id="chat">
              <div class="col-1">
                <div class="icon-left">
                  <i class="far fa-smile text-muted clickable"></i>
                </div>
              </div>
              <div class="col-10">
                <div class="middle">
                  <input
                    id="inserisci"
                    type="text"
                    v-model="newAnswer "
                    @keyup.enter="addAnswer"
                    class="form-control"
                  />
                </div>
                <!-- <div
                  class="sent"
                  v-for="(Answer, index) in answerRandom"
                  :key="index"
                >
                  <span :class="{done:Answer.done}" @click="toggleDone(index)">
                    {{Answer.text}}
                  </span>
                </div> -->
              </div>
              <div class="col-1">
                <div class="icon-right">
                  <i class="fas fa-microphone fa-2x clickable text-muted"></i>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <!--Script Bootstrap bundle-->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <!--Vue.JS-->
    <script src="./assets/js/app.js"></script>
    <!-- JS -->
  </body>
</html>
